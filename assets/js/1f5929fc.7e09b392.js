"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9450],{2954:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"getting-started/usage","title":"Quick Start Guide","description":"Before starting, make sure you have installed the directus-extension-sync extension on all Directus instances you want to synchronize. This extension is required for the tool to work properly.","source":"@site/docs/getting-started/usage.md","sourceDirName":"getting-started","slug":"/getting-started/usage","permalink":"/docs/getting-started/usage","draft":false,"unlisted":false,"editUrl":"https://github.com/directus-sync/directus-sync/tree/main/website/docs/getting-started/usage.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docs","previous":{"title":"Installation","permalink":"/docs/getting-started/installation"},"next":{"title":"Synchronization","permalink":"/docs/features/synchronization"}}');var s=t(4848),r=t(3023);const c={sidebar_position:2},o="Quick Start Guide",a={},l=[{value:"1. Authentication of the Directus Sync CLI",id:"1-authentication-of-the-directus-sync-cli",level:2},{value:"Using Credentials",id:"using-credentials",level:3},{value:"Using API Token",id:"using-api-token",level:3},{value:"2. Pull Configuration",id:"2-pull-configuration",level:2},{value:"3. Check Differences (diff)",id:"3-check-differences-diff",level:2},{value:"4. Apply Changes (push)",id:"4-apply-changes-push",level:2},{value:"Advanced Configuration",id:"advanced-configuration",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"quick-start-guide",children:"Quick Start Guide"})}),"\n",(0,s.jsx)(n.admonition,{type:"important",children:(0,s.jsxs)(n.p,{children:["Before starting, make sure you have installed the ",(0,s.jsx)(n.code,{children:"directus-extension-sync"})," extension on all Directus instances you want to synchronize. This extension is required for the tool to work properly.\nYou can learn more about the extension in the ",(0,s.jsx)(n.a,{href:"/docs/getting-started/installation",children:"installation section"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"1-authentication-of-the-directus-sync-cli",children:"1. Authentication of the Directus Sync CLI"}),"\n",(0,s.jsxs)(n.p,{children:["Directus Sync CLI communicates with your Directus instance using the API.\nTherefore, it has to be authenticated as an ",(0,s.jsx)(n.strong,{children:"admin user"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"To do so, you can provide credentials or an API token."}),"\n",(0,s.jsx)(n.h3,{id:"using-credentials",children:"Using Credentials"}),"\n",(0,s.jsx)(n.p,{children:"This method is useful for development purposes."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npx directus-sync pull \\\n  --directus-url https://your-instance.directus.com \\\n  --directus-email admin@example.com \\\n  --directus-password your-password\n"})}),"\n",(0,s.jsx)(n.h3,{id:"using-api-token",children:"Using API Token"}),"\n",(0,s.jsx)(n.p,{children:"To get started, you need to create an API token for an admin user in your Directus instance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npx directus-sync pull \\\n  --directus-url https://your-instance.directus.com \\\n  --directus-token your-token\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["If you don't know how to create an API token, you can refer to the ",(0,s.jsx)(n.a,{href:"https://learndirectus.com/how-to-create-an-api-authentication-token/",children:"this article"})," for more information."]})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"In the next sections, we will use the API token for authentication, but you can use the credentials method instead."})}),"\n",(0,s.jsx)(n.h2,{id:"2-pull-configuration",children:"2. Pull Configuration"}),"\n",(0,s.jsx)(n.p,{children:"To retrieve the current configuration from your Directus instance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npx directus-sync pull \\\n  --directus-url https://your-instance.directus.com \\\n  --directus-token your-token\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command will:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Retrieve the current schema"}),"\n",(0,s.jsx)(n.li,{children:"Save collections and their configurations"}),"\n",(0,s.jsxs)(n.li,{children:["Store everything locally in the ",(0,s.jsx)(n.code,{children:"directus-config"})," folder"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["It also retrieves the specifications (GraphQL & OpenAPI) from the ",(0,s.jsx)(n.code,{children:"/server/specs/*"})," endpoints:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.directus.io/reference/system/server.html#get-openapi-specification",children:"OpenAPI"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.directus.io/reference/system/server.html#get-graphql-schema",children:"GraphQL SDL (Item & System scopes)"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"3-check-differences-diff",children:"3. Check Differences (diff)"}),"\n",(0,s.jsx)(n.p,{children:"To check differences between your local configuration and another instance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npx directus-sync diff \\\n  --directus-url https://other-instance.directus.com \\\n  --directus-token other-token\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command is non-destructive and shows you:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Elements that will be created"}),"\n",(0,s.jsx)(n.li,{children:"Elements that will be updated"}),"\n",(0,s.jsx)(n.li,{children:"Elements that will be deleted"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"4-apply-changes-push",children:"4. Apply Changes (push)"}),"\n",(0,s.jsx)(n.p,{children:"To apply changes to your target instance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npx directus-sync push --directus-url https://other-instance.directus.com --directus-token other-token\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command will:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Synchronize the schema"}),"\n",(0,s.jsx)(n.li,{children:"Update collections"}),"\n",(0,s.jsx)(n.li,{children:"Handle dependencies between elements"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["For more advanced configuration, you can create a ",(0,s.jsx)(n.code,{children:"directus-sync.config.js"})," file at the root of your project to avoid specifying parameters each time:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\n  directusUrl: 'https://your-instance.directus.com',\n  directusToken: 'your-token',\n  dumpPath: './directus-config'\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For more information, you can refer to the ",(0,s.jsx)(n.a,{href:"/docs/features/configuration",children:"configuration section"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},3023:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function c(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);