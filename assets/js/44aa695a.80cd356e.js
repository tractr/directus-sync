"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2238,2560,4465,8921],{1552:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>p,contentTitle:()=>a,default:()=>m,frontMatter:()=>d,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"features/helpers","title":"Helpers","description":"Untrack","source":"@site/docs/features/helpers.mdx","sourceDirName":"features","slug":"/features/helpers","permalink":"/directus-sync/docs/features/helpers","draft":false,"unlisted":false,"editUrl":"https://github.com/directus-sync/directus-sync/tree/main/website/docs/features/helpers.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docs","previous":{"title":"Hooks","permalink":"/directus-sync/docs/features/hooks"},"next":{"title":"Ids Mapping and Tracking","permalink":"/directus-sync/docs/how-it-works/id-mapping"}}');var n=t(2540),i=t(3023),c=t(6548),o=t(6129),l=t(5892);const d={sidebar_position:5},a="Helpers",p={},u=[{value:"Untrack",id:"untrack",level:2},...c.toc,{value:"Examples",id:"examples",level:3},{value:"Remove Permission Duplicates",id:"remove-permission-duplicates",level:2},...o.toc,{value:"Wait for Server Ready",id:"wait-for-server-ready",level:2},...l.toc];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"helpers",children:"Helpers"})}),"\n",(0,n.jsx)(s.h2,{id:"untrack",children:"Untrack"}),"\n",(0,n.jsx)(s.p,{children:"Removes tracking from an element within Directus. You must specify the collection and the ID of the element you wish to stop tracking."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"npx directus-sync helpers untrack --collection <collection> --id <id>\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Available Options"})}),"\n",(0,n.jsx)(c.default,{}),"\n",(0,n.jsx)(s.h3,{id:"examples",children:"Examples"}),"\n",(0,n.jsx)(s.p,{children:"Untrack a specific role"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"npx directus-sync helpers untrack --collection directus_roles --id 123e4567-e89b-12d3-a456-426614174000\n"})}),"\n",(0,n.jsx)(s.p,{children:"Untrack a flow"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"npx directus-sync helpers untrack --collection directus_flows --id 987fcdeb-51a2-43d8-b4c1-897d54321000\n"})}),"\n",(0,n.jsx)(s.h2,{id:"remove-permission-duplicates",children:"Remove Permission Duplicates"}),"\n",(0,n.jsxs)(s.p,{children:["Permissions should be unique regarding the ",(0,n.jsx)(s.code,{children:"role"}),", ",(0,n.jsx)(s.code,{children:"collection"}),", and ",(0,n.jsx)(s.code,{children:"action"}),". Unfortunately, Directus does not enforce this uniqueness. This can lead to unexpected behavior, such as missing ids or other permissions fields. More details can be found in the ",(0,n.jsx)(s.a,{href:"https://github.com/directus/directus/issues/21965",children:"Directus issue #21965"}),"."]}),"\n",(0,n.jsx)(s.p,{children:"If you have permission duplicates, you can use the following command to remove them:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"npx directus-sync helpers remove-permission-duplicates --keep <keep>\n"})}),"\n",(0,n.jsxs)(s.p,{children:["This command will keep the ",(0,n.jsx)(s.code,{children:"last"})," (or ",(0,n.jsx)(s.code,{children:"first"}),") permission found and remove the others for each duplicated group ",(0,n.jsx)(s.code,{children:"role"}),", ",(0,n.jsx)(s.code,{children:"collection"}),", and ",(0,n.jsx)(s.code,{children:"action"}),"."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Available Options"})}),"\n",(0,n.jsx)(o.default,{}),"\n",(0,n.jsx)(s.h2,{id:"wait-for-server-ready",children:"Wait for Server Ready"}),"\n",(0,n.jsx)(s.p,{children:"Wait until the Directus server reports healthy on its health endpoint. Polls every X seconds until ready or until the timeout is reached."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"npx directus-sync helpers wait-server-ready --interval <seconds> --timeout <seconds>\n"})}),"\n",(0,n.jsxs)(s.p,{children:["By default, ",(0,n.jsx)(s.code,{children:"interval"})," is 5 seconds and ",(0,n.jsx)(s.code,{children:"timeout"})," is 90 seconds."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Available Options"})}),"\n",(0,n.jsx)(l.default,{})]})}function m(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},3023:(e,s,t)=>{t.d(s,{R:()=>c,x:()=>o});var r=t(3696);const n={},i=r.createContext(n);function c(e){const s=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),r.createElement(i.Provider,{value:s},e.children)}},5892:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"help-outputs/helpers-wait-server-ready","title":"helpers-wait-server-ready","description":"","source":"@site/docs/help-outputs/helpers-wait-server-ready.md","sourceDirName":"help-outputs","slug":"/help-outputs/helpers-wait-server-ready","permalink":"/directus-sync/docs/help-outputs/helpers-wait-server-ready","draft":false,"unlisted":false,"editUrl":"https://github.com/directus-sync/directus-sync/tree/main/website/docs/help-outputs/helpers-wait-server-ready.md","tags":[],"version":"current","frontMatter":{}}');var n=t(2540),i=t(3023);const c={},o=void 0,l={},d=[];function a(e){const s={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-text",children:'Options:\n  --interval <interval>    seconds between checks (default "5")\n  --timeout <timeout>      timeout in seconds (default "90")\n  --successes <successes>  number of consecutive successes required (default\n                           "1")\n  -h, --help               display help for command\n'})})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},6129:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"help-outputs/helpers-remove-permission-duplicates","title":"helpers-remove-permission-duplicates","description":"","source":"@site/docs/help-outputs/helpers-remove-permission-duplicates.md","sourceDirName":"help-outputs","slug":"/help-outputs/helpers-remove-permission-duplicates","permalink":"/directus-sync/docs/help-outputs/helpers-remove-permission-duplicates","draft":false,"unlisted":false,"editUrl":"https://github.com/directus-sync/directus-sync/tree/main/website/docs/help-outputs/helpers-remove-permission-duplicates.md","tags":[],"version":"current","frontMatter":{}}');var n=t(2540),i=t(3023);const c={},o=void 0,l={},d=[];function a(e){const s={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-text",children:'Options:\n  --keep <keep>  the permission to keep in case of conflict: "first" or "last"\n                 (default "last")\n  -h, --help     display help for command\n'})})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},6548:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"help-outputs/helpers-untrack","title":"helpers-untrack","description":"","source":"@site/docs/help-outputs/helpers-untrack.md","sourceDirName":"help-outputs","slug":"/help-outputs/helpers-untrack","permalink":"/directus-sync/docs/help-outputs/helpers-untrack","draft":false,"unlisted":false,"editUrl":"https://github.com/directus-sync/directus-sync/tree/main/website/docs/help-outputs/helpers-untrack.md","tags":[],"version":"current","frontMatter":{}}');var n=t(2540),i=t(3023);const c={},o=void 0,l={},d=[];function a(e){const s={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-text",children:"Options:\n  --collection <collection>  the collection of the element\n  --id <id>                  the id of the element to untrack\n  -h, --help                 display help for command\n"})})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}}}]);