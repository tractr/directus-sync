"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2691],{1403:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>a,contentTitle:()=>o,default:()=>l,frontMatter:()=>c,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"use-cases/upgrade-directus","title":"Upgrading Directus","description":"When upgrading Directus, it is important to update the configurations pulled by directus-sync. Here is a general guide","source":"@site/docs/use-cases/upgrade-directus.md","sourceDirName":"use-cases","slug":"/use-cases/upgrade-directus","permalink":"/directus-sync/docs/use-cases/upgrade-directus","draft":false,"unlisted":false,"editUrl":"https://github.com/directus-sync/directus-sync/tree/main/website/docs/use-cases/upgrade-directus.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docs","previous":{"title":"Schema Management","permalink":"/directus-sync/docs/how-it-works/schema-management"},"next":{"title":"PostgreSQL Enum Types","permalink":"/directus-sync/docs/use-cases/postgresql-enum"}}');var n=t(2540),i=t(3023);const c={sidebar_position:1},o="Upgrading Directus",a={},u=[];function d(e){const s={code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"upgrading-directus",children:"Upgrading Directus"})}),"\n",(0,n.jsxs)(s.p,{children:["When upgrading Directus, it is important to update the configurations pulled by ",(0,n.jsx)(s.code,{children:"directus-sync"}),". Here is a general guide\nto upgrading Directus using ",(0,n.jsx)(s.code,{children:"directus-sync"}),":"]}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["Run Directus on Version ",(0,n.jsx)(s.strong,{children:"A"}),": Start with your current Directus setup that is actively running on version ",(0,n.jsx)(s.strong,{children:"A"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["Push Configuration (if needed): Use ",(0,n.jsx)(s.code,{children:"npx directus-sync push"})," to push the latest configurations to your Directus instance. This step ensures that all your current settings are up-to-date on the server."]}),"\n",(0,n.jsx)(s.li,{children:"Stop the Directus Server: Shut down your Directus server to prepare for the upgrade."}),"\n",(0,n.jsxs)(s.li,{children:["Update to Version ",(0,n.jsx)(s.strong,{children:"B"}),": Change the Directus version to ",(0,n.jsx)(s.strong,{children:"B"})," in your configuration files or update scripts (e.g., ",(0,n.jsx)(s.code,{children:"package.json"}),", ",(0,n.jsx)(s.code,{children:"docker-compose.yml"})," or ",(0,n.jsx)(s.code,{children:"Dockerfile"}),")."]}),"\n",(0,n.jsx)(s.li,{children:"Restart and Migrate: Start the Directus server to initiate the upgrade. Directus will automatically run migration scripts necessary to update the database and apply new system configurations."}),"\n",(0,n.jsxs)(s.li,{children:["Pull New Configuration: Once Directus is stable on version ",(0,n.jsx)(s.strong,{children:"B"}),", execute ",(0,n.jsx)(s.code,{children:"npx directus-sync pull"})," to download the latest configuration snapshot. This action captures any changes or migrations that occurred during the upgrade from version ",(0,n.jsx)(s.strong,{children:"A"})," to ",(0,n.jsx)(s.strong,{children:"B"}),"."]}),"\n"]})]})}function l(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},3023:(e,s,t)=>{t.d(s,{R:()=>c,x:()=>o});var r=t(3696);const n={},i=r.createContext(n);function c(e){const s=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);