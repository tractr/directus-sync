"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5054],{6490:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"troubleshooting/firewall-configurations","title":"Firewall Configurations","description":"Connect to Directus instance behind firewall","source":"@site/docs/troubleshooting/firewall-configurations.md","sourceDirName":"troubleshooting","slug":"/troubleshooting/firewall-configurations","permalink":"/docs/troubleshooting/firewall-configurations","draft":false,"unlisted":false,"editUrl":"https://github.com/directus-sync/directus-sync/tree/main/website/docs/troubleshooting/firewall-configurations.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docs","previous":{"title":"PostgreSQL Enum Types","permalink":"/docs/use-cases/postgresql-enum"},"next":{"title":"Collections Prefix","permalink":"/docs/troubleshooting/collections-prefix"}}');var s=t(4848),r=t(3023);const o={sidebar_position:1},c="Firewall Configurations",a={},l=[{value:"Connect to Directus instance behind firewall",id:"connect-to-directus-instance-behind-firewall",level:2},{value:"Synchronization Failures Due to Firewall Configurations",id:"synchronization-failures-due-to-firewall-configurations",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"firewall-configurations",children:"Firewall Configurations"})}),"\n",(0,s.jsx)(n.h2,{id:"connect-to-directus-instance-behind-firewall",children:"Connect to Directus instance behind firewall"}),"\n",(0,s.jsxs)(n.p,{children:["If your Directus instance is protected by a firewall that requires additional headers or authorizations you can add them using the ",(0,s.jsx)(n.code,{children:"directusConfig"})," setting:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const addAuth = (request) => {\n    return ({\n        ...request,\n        headers: {\n            ...request.headers,\n            'Special-Access-Header': 'secret',\n        },\n    });\n};\n\nmodule.exports = {\n    directusConfig: {\n        clientOptions: {\n            globals: {\n                fetch: (input, init) => {\n                    return fetch(input, addAuth(init));\n                }\n            },\n        }\n    }\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"synchronization-failures-due-to-firewall-configurations",children:"Synchronization Failures Due to Firewall Configurations"}),"\n",(0,s.jsxs)(n.p,{children:["Some requests made by ",(0,s.jsx)(n.code,{children:"directus-sync"}),", particularly during the ",(0,s.jsx)(n.strong,{children:"diff"})," process, can be blocked by certain firewall\nconfigurations.\nYou should see this log message if this is the case:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"[12:40:43.095] ERROR (54159): [snapshot] Could not get the diff from the Directus instance\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Check and adjust your firewall settings to ensure they don't block or interfere with directus-sync operations.\nThis may involve whitelisting IP addresses or modifying rules to allow the necessary request patterns.\nMore information in this ",(0,s.jsx)(n.a,{href:"https://github.com/tractr/directus-sync/issues/33",children:"issue"}),"."]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},3023:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);