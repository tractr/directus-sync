"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5545,6858],{3023:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>r});var i=n(3696);const c={},t=i.createContext(c);function o(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),i.createElement(t.Provider,{value:s},e.children)}},7003:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"features/configuration","title":"Configuration","description":"Options are merged from the following sources, in order of precedence:","source":"@site/docs/features/configuration.mdx","sourceDirName":"features","slug":"/features/configuration","permalink":"/directus-sync/docs/features/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/directus-sync/directus-sync/tree/main/website/docs/features/configuration.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docs","previous":{"title":"Seed Data","permalink":"/directus-sync/docs/features/seed"},"next":{"title":"Hooks","permalink":"/directus-sync/docs/features/hooks"}}');var c=n(2540),t=n(3023),o=n(9398);const r={sidebar_position:3},d="Configuration",l={},a=[{value:"CLI and environment variables",id:"cli-and-environment-variables",level:2},{value:"Configuration file",id:"configuration-file",level:2},{value:"CLI Options",id:"cli-options",level:2},...o.toc];function h(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.header,{children:(0,c.jsx)(s.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,c.jsx)(s.p,{children:"Options are merged from the following sources, in order of precedence:"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsx)(s.li,{children:"CLI arguments"}),"\n",(0,c.jsx)(s.li,{children:"Environment variables"}),"\n",(0,c.jsx)(s.li,{children:"Configuration file"}),"\n",(0,c.jsx)(s.li,{children:"Default values"}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"cli-and-environment-variables",children:"CLI and environment variables"}),"\n",(0,c.jsxs)(s.p,{children:["These options can be used with any command to configure the operation of ",(0,c.jsx)(s.code,{children:"directus-sync"}),":"]}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-c, --config-path <configPath>"}),(0,c.jsx)(s.br,{}),"\n","Change the path to the config file. Default paths are: ",(0,c.jsx)(s.code,{children:"./directus-sync.config.js"}),", ",(0,c.jsx)(s.code,{children:"./directus-sync.config.cjs"})," or\n",(0,c.jsx)(s.code,{children:"./directus-sync.config.json"}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-d, --debug"}),(0,c.jsx)(s.br,{}),"\n","Display additional logging information. Useful for debugging or verifying what ",(0,c.jsx)(s.code,{children:"directus-sync"})," is doing under the\nhood."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--sort-json"}),(0,c.jsx)(s.br,{}),"\n","Sort JSON keys when saving dump files (collections and snapshot) to produce stable diffs. Default is ",(0,c.jsx)(s.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-u, --directus-url <directusUrl>"}),(0,c.jsx)(s.br,{}),"\n","Specify the Directus instance URL. Alternatively, set the ",(0,c.jsx)(s.code,{children:"DIRECTUS_URL"})," environment variable."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-t, --directus-token <directusToken>"}),(0,c.jsx)(s.br,{}),"\n","Provide the Directus access token. Alternatively, set the ",(0,c.jsx)(s.code,{children:"DIRECTUS_TOKEN"})," environment variable.\nIf provided, the ",(0,c.jsx)(s.code,{children:"directus-email"})," and ",(0,c.jsx)(s.code,{children:"directus-password"})," options are ignored."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-e, --directus-email <directusEmail> "}),(0,c.jsx)(s.br,{}),"\n","Provide the Directus email. Alternatively, set the ",(0,c.jsx)(s.code,{children:"DIRECTUS_ADMIN_EMAIL"})," environment variable."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-p, --directus-password <directusPassword>"}),(0,c.jsx)(s.br,{}),"\n","Provide the Directus password. Alternatively, set the ",(0,c.jsx)(s.code,{children:"DIRECTUS_ADMIN_PASSWORD"})," environment variable."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--dump-path <dumpPath>"}),(0,c.jsx)(s.br,{}),"\n","Set the base path for the dump. This must be an absolute path. The default\nis ",(0,c.jsx)(s.code,{children:'"./directus-config"'}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--seed-path <seedPath>"}),(0,c.jsx)(s.br,{}),"\n","Set the base path for the seed data. This must be an absolute path. The default\nis ",(0,c.jsx)(s.code,{children:'"./directus-config/seed"'}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--collections-path <collectionPath>"}),(0,c.jsx)(s.br,{}),"\n","Specify the path for the collections dump, relative to the dump path. The default is ",(0,c.jsx)(s.code,{children:'"collections"'}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-o, --only-collections <onlyCollections>"}),(0,c.jsx)(s.br,{}),"\n","Comma-separated list of directus collections to include during ",(0,c.jsx)(s.code,{children:"pull"})," ",(0,c.jsx)(s.code,{children:"push"})," or ",(0,c.jsx)(s.code,{children:"diff"})," process."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-x, --exclude-collections <excludeCollections>"}),(0,c.jsx)(s.br,{}),"\n","Comma-separated list of directus collections to exclude during ",(0,c.jsx)(s.code,{children:"pull"})," ",(0,c.jsx)(s.code,{children:"push"})," or ",(0,c.jsx)(s.code,{children:"diff"}),". Can be used along\nwith ",(0,c.jsx)(s.code,{children:"only-collections"}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--no-collections"}),"\nDo not pull and push the Directus collections. By default, the collections are pulled and pushed."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--preserve-ids <preserveIds>"}),(0,c.jsx)(s.br,{}),"\n","Comma-separated list of directus collections to preserve the original ids during the ",(0,c.jsx)(s.code,{children:"pull"})," or ",(0,c.jsx)(s.code,{children:"push"})," process.",(0,c.jsx)(s.br,{}),"\n","Possible collections are: ",(0,c.jsx)(s.code,{children:"dashboards"}),", ",(0,c.jsx)(s.code,{children:"operations"}),", ",(0,c.jsx)(s.code,{children:"panels"}),", ",(0,c.jsx)(s.code,{children:"policies"}),", ",(0,c.jsx)(s.code,{children:"roles"})," and ",(0,c.jsx)(s.code,{children:"translations"}),".",(0,c.jsx)(s.br,{}),"\n",(0,c.jsx)(s.code,{children:"flows"})," and ",(0,c.jsx)(s.code,{children:"folders"})," ids are always preserved.",(0,c.jsx)(s.br,{}),"\n","The value can be ",(0,c.jsx)(s.code,{children:"*"})," or ",(0,c.jsx)(s.code,{children:"all"})," to preserve ids of all collections, when applicable."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--max-push-retries <maxPushRetries>"}),(0,c.jsx)(s.br,{}),"\n","The number of retries for the ",(0,c.jsx)(s.code,{children:"push"})," and ",(0,c.jsx)(s.code,{children:"seed push"})," operations. The default is ",(0,c.jsx)(s.code,{children:"20"}),". Use ",(0,c.jsx)(s.code,{children:"0"})," to disable limit."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--snapshot-path <snapshotPath>"}),(0,c.jsx)(s.br,{}),"\n","Specify the path for the schema snapshot dump, relative to the dump path. The default is ",(0,c.jsx)(s.code,{children:'"snapshot"'}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--no-snapshot"}),(0,c.jsx)(s.br,{}),"\n","Do not pull and push the Directus schema. By default, the schema is pulled and pushed."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--no-split"}),(0,c.jsx)(s.br,{}),"\n","Indicates whether the schema snapshot should be split into multiple files. By default, snapshots are split."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--specs-path <specsPath>"}),(0,c.jsx)(s.br,{}),"\n","Specify the path for the specifications dump (GraphQL & OpenAPI), relative to the dump path. The default is ",(0,c.jsx)(s.code,{children:'"specs"'}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"--no-specs"}),(0,c.jsx)(s.br,{}),"\n","Do not dump the specifications (GraphQL & OpenAPI). By default, specifications are dumped."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-f, --force"}),(0,c.jsx)(s.br,{}),"\n","Force the diff of schema, even if the Directus version is different. The default is ",(0,c.jsx)(s.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"-h, --help"}),(0,c.jsx)(s.br,{}),"\n","Display help information for the ",(0,c.jsx)(s.code,{children:"directus-sync"})," commands."]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"configuration-file",children:"Configuration file"}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"directus-sync"})," CLI also supports a configuration file. This file is optional. If it is not provided, the CLI will\nuse the default values for the options."]}),"\n",(0,c.jsxs)(s.p,{children:["The default paths for the configuration file are ",(0,c.jsx)(s.code,{children:"./directus-sync.config.js"}),", ",(0,c.jsx)(s.code,{children:"./directus-sync.config.cjs"}),"\nor ",(0,c.jsx)(s.code,{children:"./directus-sync.config.json"}),". You can change this path using the\n",(0,c.jsx)(s.code,{children:"--config-path"})," option."]}),"\n",(0,c.jsxs)(s.p,{children:["The configuration file can extend another configuration file using the ",(0,c.jsx)(s.code,{children:"extends"})," property."]}),"\n",(0,c.jsx)(s.p,{children:"This is an example of a configuration file:"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-javascript",children:"// ./directus-sync.config.js\nmodule.exports = {\n  extends: ['./directus-sync.config.base.js'],\n  debug: true,\n  directusUrl: 'https://directus.example.com',\n  directusToken: 'my-directus-token',\n  directusEmail: 'admin@example.com', // ignored if directusToken is provided\n  directusPassword: 'my-directus-password', // ignored if directusToken is provided\n  directusConfig: {\n    clientOptions: {},  // see https://directus.io/docs/guides/connect/sdk#polyfilling\n    restConfig: {}, // see https://docs.directus.io/packages/@directus/sdk/rest/interfaces/RestConfig.html\n  },\n  sortJson: false,\n  dumpPath: './directus-config',\n  seedPath: './directus-config/seed',\n  collectionsPath: 'collections',\n  onlyCollections: ['roles', 'policies', 'permissions', 'settings'],\n  collections: true,\n  excludeCollections: ['settings'],\n  preserveIds: ['roles', 'panels'], // can be '*' or 'all' to preserve all ids, or an array of collections\n  maxPushRetries: 20,\n  snapshotPath: 'snapshot',\n  snapshot: true,\n  split: true,\n  specsPath: 'specs',\n  specs: true,\n};\n"})}),"\n",(0,c.jsx)(s.h2,{id:"cli-options",children:"CLI Options"}),"\n",(0,c.jsx)(s.p,{children:"These options are available for all commands:"}),"\n",(0,c.jsx)(o.default,{})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(h,{...e})}):h(e)}},9398:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"help-outputs/base","title":"base","description":"","source":"@site/docs/help-outputs/base.md","sourceDirName":"help-outputs","slug":"/help-outputs/base","permalink":"/directus-sync/docs/help-outputs/base","draft":false,"unlisted":false,"editUrl":"https://github.com/directus-sync/directus-sync/tree/main/website/docs/help-outputs/base.md","tags":[],"version":"current","frontMatter":{}}');var c=n(2540),t=n(3023);const o={},r=void 0,d={},l=[];function a(e){const s={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-text",children:'Options:\n  -V, --version                               output the version number\n  -d, --debug                                 display more logging (default "false")\n  --sort-json                                 sort JSON keys when saving files (default "false")\n  -u, --directus-url <directusUrl>            Directus URL (env: DIRECTUS_URL)\n  -t, --directus-token <directusToken>        Directus access token (env: DIRECTUS_TOKEN)\n  -e, --directus-email <directusEmail>        Directus user email (env: DIRECTUS_ADMIN_EMAIL)\n  -p, --directus-password <directusPassword>  Directus user password (env: DIRECTUS_ADMIN_PASSWORD)\n  -c, --config-path <configPath>              the path to the config file. Required for extended options (default paths: ./directus-sync.config.js, ./directus-sync.config.cjs, ./directus-sync.config.json)\n  -h, --help                                  display help for command\n\nCommands:\n  pull [options]                              get the schema and collections and store them locally\n  diff [options]                              describe the schema and collections diff. Does not modify the database.\n  push [options]                              push the schema and collections\n  seed                                        seed the custom collections with data\n  helpers                                     a set of helper utilities\n  help [command]                              display help for command\n'})})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}}}]);